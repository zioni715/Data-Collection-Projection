# 14_Security_Consent_and_Settings.md
이 단계는 제품/조직 환경에서 “수집 프로그램”이 승인받고 오래 살아남기 위한 **보안/동의/설정 체계**를 정리하는 단계입니다.

---

## 목표
- 사용자가 **무엇을 수집하는지** 이해하고 제어 가능
- 민감 앱/상황에서 자동 차단(denylist)
- 데이터 삭제/보관 기간/수집 범위 변경이 쉬움

---

## 해야 할 일(체크리스트)

### 1) 설정(Policy) 인터페이스 확정
초기에는 UI 없어도 됩니다.
- config.yaml 기반
- 또는 간단한 CLI: `collector --set denylist=...`

설정 항목 예시:
- allowlist/denylist
- 창 제목 저장 여부(기본 마스킹)
- raw 보관 기간
- add-in 수신 허용/포트
- “content 수집”은 항상 false(명시)

### 2) 사용자 제어 기능
최소 제공 기능:
- 수집 일시정지/재개
- 특정 앱 제외(denylist 추가)
- 데이터 삭제(전체/기간별)

### 3) 로컬 저장 암호화(선택)
운영 환경에서 요구될 수 있음:
- DB 파일 암호화(SQLCipher 등) 또는
- 민감 매핑(vault_resources)만 별도 암호화

### 4) 감사/설명 가능성
- “왜 이 이벤트가 저장됐는지/왜 드롭됐는지” 로그
- 정책 위반(denylist) 이벤트 카운트 제공

---

## 완료 기준
- [ ] 수집 범위/보관/차단을 사용자가 쉽게 바꿀 수 있다
- [ ] 민감 앱에서 수집이 자동 차단된다
- [ ] 데이터 삭제가 가능하고, retention이 정책대로 동작한다
- [ ] 보안/개인정보 설명 문서(한 장)로 정리 가능하다
